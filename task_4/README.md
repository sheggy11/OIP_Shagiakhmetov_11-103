# Задание 4: 

## Описание

Реализация вычисления **TF-IDF** для текстовых документов на основе заранее подготовленных токенов и лемм. Основные задачи:

- **Подсчет TF (Term Frequency)**: вычисление частоты термина в документе.
- **Вычисление IDF (Inverse Document Frequency)**: оценка важности термина по формуле:
```
IDF(t) = ln(N / df)
```
где:
- `N` — общее количество документов,
- `df` — количество документов, в которых встречается термин.
- Добавляется `+1` в знаменатель для избежания деления на 0.

- **TF-IDF(t, d)**: оценка значимости термина в документе относительно коллекции:
```
TF-IDF(t, d) = TF(t, d) * IDF(t)
```
- **Сохранение результатов**: для каждого документа создаются два файла:
    - `page_X.txt` с TF-IDF значениями для **терминов (tokens)**;
    - `page_X.txt` с TF-IDF значениями для **лемм (lemmas)**.

---

## Структура проекта

- **Исходные данные**:

 - Документы с HTML-разметкой: ../task1/archive/page_n.html
 - Файлы с терминами и леммами: ..task_2/pages_tokens_lemmas/page_n (файлы lemmatized_tokens_list.txt и tokens_list.txt)

**Результаты сохраняются в директории**:
 - task_4/tokens_list_tf_idf,
 - task_4/lemmas_list_tf_idf

---

## Описание скрипта `compute_tf_idf.py`

- **Входные данные**:
  - HTML-документы: `task1/archive/page_X.html` (используются для соответствия номеров документов).
  - Обработанные списки токенов и лемм:
    - `task_2/pages_tokens_lemmas/page_X/tokens_list.txt`
    - `task_2/pages_tokens_lemmas/page_X/lemmatized_tokens_list.txt`

- **Функциональность**:
  - Загружает токены и леммы для каждого документа.
  - Вычисляет TF, IDF и TF-IDF по каждому слову.
  - Очистку выходных директорий перед запуском.
  - Сохранение результатов TF-IDF в соответствующие файлы.

---

## Deployment Manual

### 1. Подготовка

- Убедитесь, что в директориях:
  - `task1/archive/` лежат HTML-файлы `page_1.html`, ..., `page_100.html`;
  - `task_2/pages_tokens_lemmas/page_X/` находятся два файла:
    - `tokens_list.txt`
    - `lemmatized_tokens_list.txt`

- Убедитесь, что используемая версия Python — **3.7+**.

### 2. Запуск вычисления TF-IDF:

- Выполните команду:
```
python compute_tf_idf.py
```
- Скрипт обработает 100 документов, вычислит TF, IDF и TF-IDF, и сохранит результаты в соответствующие директории: `task_4/tokens_list_tf_idf/` и `task_4/lemmas_list_tf_idf/`.

## Предварительные требования

- Python 3.7+.
- Исходные данные из task1 и task2 должны быть подготовлены.
- Используются стандартные библиотеки Python: os, shutil, math, collections.